{"remainingRequest":"/home/gopath/src/github.com/liyinda/viewdns/frontend/vue-admin-template/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/gopath/src/github.com/liyinda/viewdns/frontend/vue-admin-template/src/views/form/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/gopath/src/github.com/liyinda/viewdns/frontend/vue-admin-template/src/views/form/index.vue","mtime":1572525391100},{"path":"/home/gopath/src/github.com/liyinda/viewdns/frontend/vue-admin-template/node_modules/cache-loader/dist/cjs.js","mtime":1571281905841},{"path":"/home/gopath/src/github.com/liyinda/viewdns/frontend/vue-admin-template/node_modules/babel-loader/lib/index.js","mtime":1571281909729},{"path":"/home/gopath/src/github.com/liyinda/viewdns/frontend/vue-admin-template/node_modules/cache-loader/dist/cjs.js","mtime":1571281905841},{"path":"/home/gopath/src/github.com/liyinda/viewdns/frontend/vue-admin-template/node_modules/vue-loader/lib/index.js","mtime":1571281915869}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { addDomain } from '@/api/table'\n\nexport default {\n  data() {\n    return {\n      form: {\n        name: '',\n        region: '',\n        date1: '',\n        date2: '',\n        delivery: false,\n        type: [],\n        resource: '',\n        desc: ''\n      }\n    }\n  },\n  methods: {\n    onSubmit() {\n      this.$refs['dataForm'].validate((valid) => {\n        if (valid) {\n          const tempData = Object.assign({}, this.temp)\n          tempData.timestamp = +new Date(tempData.timestamp)\n          addDomain(tempData).then(() => {\n            for (const v of this.list) {\n              if (v.id === this.temp.id) {\n                const index = this.list.indexOf(v)\n                this.list.splice(index, 1, this.temp)\n                break\n              }\n            }\n            this.dialogFormVisible = false\n            this.$notify({\n              title: '成功',\n              message: '更新成功',\n              type: 'success',\n              duration: 2000\n            })\n          })\n        }\n      })\n    },\n    onCancel() {\n      this.$message({\n        message: 'cancel!',\n        type: 'warning'\n      })\n    }\n  }\n}\n",null]}